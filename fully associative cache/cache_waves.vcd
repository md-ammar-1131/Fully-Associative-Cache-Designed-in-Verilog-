$date
	Sun Nov 09 11:44:37 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module testbench_clean $end
$var wire 1 ! hit $end
$var wire 1 " ready $end
$var wire 1 # miss $end
$var wire 8 $ data_out [7:0] $end
$var reg 8 % addr [7:0] $end
$var reg 1 & clk $end
$var reg 8 ' data_in [7:0] $end
$var reg 1 ( read $end
$var reg 1 ) reset $end
$var reg 1 * write $end
$var integer 32 + test_count [31:0] $end
$scope module dut $end
$var wire 8 , addr [7:0] $end
$var wire 1 & clk $end
$var wire 8 - data_in [7:0] $end
$var wire 8 . data_out [7:0] $end
$var wire 1 ! hit $end
$var wire 1 # miss $end
$var wire 1 ( read $end
$var wire 1 " ready $end
$var wire 1 ) reset $end
$var wire 1 * write $end
$var wire 1 / valid_3 $end
$var wire 1 0 valid_2 $end
$var wire 1 1 valid_1 $end
$var wire 1 2 valid_0 $end
$var wire 8 3 tag_out_3 [7:0] $end
$var wire 8 4 tag_out_2 [7:0] $end
$var wire 8 5 tag_out_1 [7:0] $end
$var wire 8 6 tag_out_0 [7:0] $end
$var wire 1 7 set_valid_bit $end
$var wire 1 8 set_dirty_bit $end
$var wire 2 9 replace_index [1:0] $end
$var wire 1 : ready_signal $end
$var wire 8 ; read_data_signal [7:0] $end
$var wire 1 < miss_signal $end
$var wire 4 = line_select [3:0] $end
$var wire 1 > hit_signal $end
$var wire 4 ? hit_lines [3:0] $end
$var wire 2 @ hit_index [1:0] $end
$var wire 1 A dirty_3 $end
$var wire 1 B dirty_2 $end
$var wire 1 C dirty_1 $end
$var wire 1 D dirty_0 $end
$var wire 8 E data_out_3 [7:0] $end
$var wire 8 F data_out_2 [7:0] $end
$var wire 8 G data_out_1 [7:0] $end
$var wire 8 H data_out_0 [7:0] $end
$var wire 1 I clear_dirty_bit $end
$var wire 1 J cache_write_enable $end
$var parameter 32 K ADDR_WIDTH $end
$var parameter 32 L BLOCK_SIZE $end
$var parameter 32 M CACHE_SIZE $end
$var parameter 32 N DATA_WIDTH $end
$scope module cache_array $end
$var wire 1 & clk $end
$var wire 8 O data_in [7:0] $end
$var wire 8 P data_out_0 [7:0] $end
$var wire 8 Q data_out_1 [7:0] $end
$var wire 8 R data_out_2 [7:0] $end
$var wire 8 S data_out_3 [7:0] $end
$var wire 1 D dirty_0 $end
$var wire 1 C dirty_1 $end
$var wire 1 B dirty_2 $end
$var wire 1 A dirty_3 $end
$var wire 1 ) reset $end
$var wire 8 T tag_in [7:0] $end
$var wire 8 U tag_out_0 [7:0] $end
$var wire 8 V tag_out_1 [7:0] $end
$var wire 8 W tag_out_2 [7:0] $end
$var wire 8 X tag_out_3 [7:0] $end
$var wire 1 2 valid_0 $end
$var wire 1 1 valid_1 $end
$var wire 1 0 valid_2 $end
$var wire 1 / valid_3 $end
$var wire 1 J write_enable $end
$var wire 1 7 set_valid $end
$var wire 1 8 set_dirty $end
$var wire 4 Y line_select [3:0] $end
$var wire 1 I clear_dirty $end
$var parameter 32 Z ADDR_WIDTH $end
$var parameter 32 [ BLOCK_SIZE $end
$var parameter 32 \ CACHE_SIZE $end
$var parameter 32 ] DATA_WIDTH $end
$var reg 8 ^ data_0 [7:0] $end
$var reg 8 _ data_1 [7:0] $end
$var reg 8 ` data_2 [7:0] $end
$var reg 8 a data_3 [7:0] $end
$var reg 1 b dirty_0_reg $end
$var reg 1 c dirty_1_reg $end
$var reg 1 d dirty_2_reg $end
$var reg 1 e dirty_3_reg $end
$var reg 8 f tag_0 [7:0] $end
$var reg 8 g tag_1 [7:0] $end
$var reg 8 h tag_2 [7:0] $end
$var reg 8 i tag_3 [7:0] $end
$var reg 1 j valid_0_reg $end
$var reg 1 k valid_1_reg $end
$var reg 1 l valid_2_reg $end
$var reg 1 m valid_3_reg $end
$upscope $end
$scope module comparators $end
$var wire 8 n address [7:0] $end
$var wire 8 o tag_out_0 [7:0] $end
$var wire 8 p tag_out_1 [7:0] $end
$var wire 8 q tag_out_2 [7:0] $end
$var wire 8 r tag_out_3 [7:0] $end
$var wire 1 2 valid_0 $end
$var wire 1 1 valid_1 $end
$var wire 1 0 valid_2 $end
$var wire 1 / valid_3 $end
$var parameter 32 s ADDR_WIDTH $end
$var parameter 32 t CACHE_SIZE $end
$var reg 1 u hit $end
$var reg 2 v hit_index [1:0] $end
$var reg 4 w hit_lines [3:0] $end
$var reg 4 x match_lines [3:0] $end
$upscope $end
$scope module controller $end
$var wire 8 y address [7:0] $end
$var wire 1 ! cache_hit $end
$var wire 1 & clk $end
$var wire 2 z hit_index [1:0] $end
$var wire 4 { hit_lines [3:0] $end
$var wire 1 ( read_request $end
$var wire 1 ) reset $end
$var wire 8 | write_data [7:0] $end
$var wire 1 * write_request $end
$var wire 2 } replace_index [1:0] $end
$var parameter 32 ~ ADDR_WIDTH $end
$var parameter 32 !" BLOCK_SIZE $end
$var parameter 32 "" CACHE_SIZE $end
$var parameter 32 #" DATA_WIDTH $end
$var parameter 3 $" IDLE $end
$var parameter 3 %" READ_HIT $end
$var parameter 3 &" READ_MISS $end
$var parameter 3 '" TAG_COMPARE $end
$var parameter 3 (" UPDATE_CACHE $end
$var parameter 3 )" WRITE_HIT $end
$var parameter 3 *" WRITE_MISS $end
$var reg 1 J cache_write_enable $end
$var reg 1 I clear_dirty_bit $end
$var reg 3 +" current_state [2:0] $end
$var reg 1 > hit_signal $end
$var reg 4 ," line_select [3:0] $end
$var reg 1 < miss_signal $end
$var reg 3 -" next_state [2:0] $end
$var reg 8 ." read_data [7:0] $end
$var reg 1 /" read_operation $end
$var reg 1 : ready $end
$var reg 8 0" saved_address [7:0] $end
$var reg 8 1" saved_write_data [7:0] $end
$var reg 1 8 set_dirty_bit $end
$var reg 1 7 set_valid_bit $end
$var reg 2 2" target_line [1:0] $end
$scope function state_to_string $end
$var reg 3 3" state [2:0] $end
$upscope $end
$upscope $end
$scope module repl_policy $end
$var wire 4 4" access_lines [3:0] $end
$var wire 1 & clk $end
$var wire 1 ) reset $end
$var wire 1 ! update_policy $end
$var parameter 32 5" CACHE_SIZE $end
$var reg 2 6" replace_index [1:0] $end
$var reg 1 7" replacement_ready $end
$var reg 2 8" rr_pointer [1:0] $end
$upscope $end
$upscope $end
$scope task cpu_read $end
$var reg 8 9" address [7:0] $end
$upscope $end
$scope task cpu_write $end
$var reg 8 :" address [7:0] $end
$var reg 8 ;" data [7:0] $end
$upscope $end
$scope task wait_for_ready $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b100 5"
b101 *"
b11 )"
b110 ("
b1 '"
b100 &"
b10 %"
b0 $"
b1000 #"
b100 ""
b1 !"
b1000 ~
b100 t
b1000 s
b1000 ]
b100 \
b1 [
b1000 Z
b1000 N
b100 M
b1 L
b1000 K
$end
#0
$dumpvars
bx ;"
bx :"
bx 9"
b0 8"
17"
b0 6"
b0 4"
bx 3"
b0 2"
b0 1"
b0 0"
0/"
b0 ."
b0 -"
b0 ,"
b0 +"
b0 }
b0 |
b0 {
b0 z
b0 y
b0 x
b0 w
b0 v
0u
b0 r
b0 q
b0 p
b0 o
b0 n
0m
0l
0k
0j
b0 i
b0 h
b0 g
b0 f
0e
0d
0c
0b
b0 a
b0 `
b0 _
b0 ^
b0 Y
b0 X
b0 W
b0 V
b0 U
b0 T
b0 S
b0 R
b0 Q
b0 P
b0 O
0J
0I
b0 H
b0 G
b0 F
b0 E
0D
0C
0B
0A
b0 @
b0 ?
0>
b0 =
0<
b0 ;
1:
b0 9
08
07
b0 6
b0 5
b0 4
b0 3
02
01
00
0/
b0 .
b0 -
b0 ,
b0 +
0*
1)
0(
b0 '
0&
b0 %
b0 $
0#
1"
0!
$end
#5000
1&
#10000
0&
#15000
1&
#20000
b1 -"
1*
b10101010 '
b10101010 -
b10101010 O
b10101010 |
b10000 %
b10000 ,
b10000 T
b10000 n
b10000 y
0&
b10101010 ;"
b10000 :"
b1 +
0)
#25000
b101 -"
b10101010 1"
b10000 0"
0"
0:
b1 +"
b1 3"
1&
#30000
b101 -"
0*
0&
#35000
b110 -"
b101 +"
b101 3"
1&
#40000
0&
#45000
b0 -"
1#
1<
b110 +"
b110 3"
1&
#50000
0&
b10000 9"
#55000
b0 +"
1"
1:
x!
1>
18
1J
17
b1 =
b1 Y
b1 ,"
0#
0<
b0 3"
1&
#60000
b1 -"
1(
0&
#65000
b100 -"
1u
b1 ?
b1 w
b1 {
b1 4"
b1 x
1/"
0"
0:
x!
0>
08
07
0J
b0 =
b0 Y
b0 ,"
b1 +"
1D
1b
12
1j
b10000 6
b10000 U
b10000 o
b10000 f
b10101010 H
b10101010 P
b10101010 ^
b1 3"
1&
#70000
b101 -"
0(
0&
#75000
b110 -"
b101 +"
b101 3"
1&
#80000
0&
#85000
b0 -"
1#
1<
b110 +"
b110 3"
1&
#90000
0&
#95000
b0 +"
1"
1:
1!
1>
b1111 $
b1111 .
b1111 ;
b1111 ."
1J
17
b1 =
b1 Y
b1 ,"
0#
0<
b0 3"
1&
#100000
0&
#105000
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
b1 9
b1 }
b1 6"
b1 8"
1&
#110000
0&
#115000
1&
#120000
b1 -"
b0 ?
b0 w
b0 {
b0 4"
0!
0u
b0 x
1(
b100000 %
b100000 ,
b100000 T
b100000 n
b100000 y
0&
b100000 9"
b10 +
#125000
b100 -"
b100000 0"
0"
0:
b1 +"
b1 3"
1&
#130000
b101 -"
0(
0&
#135000
b110 -"
b101 +"
b101 3"
1&
#140000
0&
#145000
b0 -"
b1 2"
1#
1<
b110 +"
b110 3"
1&
#150000
0&
#155000
b0 +"
1"
1:
x!
1>
1J
17
b10 =
b10 Y
b10 ,"
0#
0<
b0 3"
1&
#160000
0&
#165000
1u
b10 ?
b10 w
b10 {
b10 4"
b1 @
b1 v
b1 z
b10 x
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
11
1k
b100000 5
b100000 V
b100000 p
b100000 g
b10101010 G
b10101010 Q
b10101010 _
1&
#170000
0&
#175000
1&
#180000
b1 -"
1(
0&
b11 +
#185000
b100 -"
0"
0:
b1 +"
b1 3"
1&
#190000
b101 -"
0(
0&
#195000
b110 -"
b101 +"
b101 3"
1&
#200000
0&
#205000
b0 -"
1#
1<
b110 +"
b110 3"
1&
#210000
0&
#215000
b0 +"
1"
1:
1!
1>
1J
17
b10 =
b10 Y
b10 ,"
0#
0<
b0 3"
1&
#220000
0&
#225000
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
b10 9
b10 }
b10 6"
b10 8"
1&
#230000
0&
#235000
1&
#240000
b1 -"
b0 ?
b0 w
b0 {
b0 4"
b0 @
b0 v
b0 z
0!
0u
b0 x
1*
b110011 '
b110011 -
b110011 O
b110011 |
b110000 %
b110000 ,
b110000 T
b110000 n
b110000 y
0&
b110011 ;"
b110000 :"
b100 +
#245000
b101 -"
0/"
b110011 1"
b110000 0"
0"
0:
b1 +"
b1 3"
1&
#250000
b101 -"
b1000100 ;"
b1000000 :"
0*
0&
#255000
b110 -"
b101 +"
b101 3"
1&
#260000
0&
#265000
b0 -"
b10 2"
1#
1<
b110 +"
b110 3"
1&
#270000
0&
#275000
b0 +"
1"
1:
x!
1>
18
1J
17
b100 =
b100 Y
b100 ,"
0#
0<
b0 3"
1&
#280000
b1 -"
1*
b1000100 '
b1000100 -
b1000100 O
b1000100 |
b1000000 %
b1000000 ,
b1000000 T
b1000000 n
b1000000 y
0&
#285000
b101 -"
1u
b100 ?
b100 w
b100 {
b100 4"
b10 @
b10 v
b10 z
b100 x
b1000100 1"
b1000000 0"
0"
0:
x!
0>
08
07
0J
b0 =
b0 Y
b0 ,"
b1 +"
1B
1d
10
1l
b1000000 4
b1000000 W
b1000000 q
b1000000 h
b1000100 F
b1000100 R
b1000100 `
b1 3"
1&
#290000
b101 -"
b1010101 ;"
b1010000 :"
0*
0&
#295000
b110 -"
b101 +"
b101 3"
1&
#300000
0&
#305000
b0 -"
1#
1<
b110 +"
b110 3"
1&
#310000
0&
#315000
b0 +"
1"
1:
1!
1>
18
1J
17
b100 =
b100 Y
b100 ,"
0#
0<
b0 3"
1&
#320000
b1 -"
b0 ?
b0 w
b0 {
b0 4"
b0 @
b0 v
b0 z
x!
0u
b0 x
1*
b1010101 '
b1010101 -
b1010101 O
b1010101 |
b1010000 %
b1010000 ,
b1010000 T
b1010000 n
b1010000 y
0&
#325000
b101 -"
1u
b100 ?
b100 w
b100 {
b100 4"
b10 @
b10 v
b10 z
b100 x
b1010101 1"
b1010000 0"
0"
0:
x!
0>
08
07
0J
b0 =
b0 Y
b0 ,"
b1 +"
b1010000 4
b1010000 W
b1010000 q
b1010000 h
b1010101 F
b1010101 R
b1010101 `
b1 3"
1&
#330000
b101 -"
0*
0&
#335000
b110 -"
b101 +"
b101 3"
1&
#340000
0&
#345000
b0 -"
1#
1<
b110 +"
b110 3"
1&
#350000
0&
#355000
b0 +"
1"
1:
1!
1>
18
1J
17
b100 =
b100 Y
b100 ,"
0#
0<
b0 3"
1&
#360000
0&
#365000
x!
0>
08
07
0J
b0 =
b0 Y
b0 ,"
b11 9
b11 }
b11 6"
b11 8"
1&
#370000
0&
#375000
1&
#380000
b1 -"
b1 ?
b1 w
b1 {
b1 4"
b0 @
b0 v
b0 z
x!
1u
b1 x
1(
b10000 %
b10000 ,
b10000 T
b10000 n
b10000 y
0&
b10000 9"
b101 +
#385000
b100 -"
1/"
b10000 0"
0"
0:
b1 +"
b1 3"
1&
#390000
b101 -"
b100000 9"
0(
0&
#395000
b110 -"
b101 +"
b101 3"
1&
#400000
0&
#405000
b0 -"
b11 2"
1#
1<
b110 +"
b110 3"
1&
#410000
0&
#415000
b0 +"
1"
1:
1!
1>
1J
17
b1000 =
b1000 Y
b1000 ,"
0#
0<
b0 3"
1&
#420000
b1 -"
b10 ?
b10 w
b10 {
b10 4"
b1 @
b1 v
b1 z
1!
1u
b10 x
1(
b100000 %
b100000 ,
b100000 T
b100000 n
b100000 y
0&
#425000
b100 -"
b1010 ?
b1010 w
b1010 {
b1010 4"
b11 @
b11 v
b11 z
1u
b1010 x
b100000 0"
0"
0:
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
b1 +"
b0 9
b0 }
b0 6"
b0 8"
1/
1m
b100000 3
b100000 X
b100000 r
b100000 i
b1010101 E
b1010101 S
b1010101 a
b1 3"
1&
#430000
b101 -"
b110000 9"
0(
0&
#435000
b110 -"
b101 +"
b101 3"
1&
#440000
0&
#445000
b0 -"
b0 2"
1#
1<
b110 +"
b110 3"
1&
#450000
0&
#455000
b0 +"
1"
1:
1!
1>
1J
17
b1 =
b1 Y
b1 ,"
0#
0<
b0 3"
1&
#460000
b1 -"
b0 ?
b0 w
b0 {
b0 4"
b0 @
b0 v
b0 z
x!
0u
b0 x
1(
b110000 %
b110000 ,
b110000 T
b110000 n
b110000 y
0&
#465000
b100 -"
1u
b1 ?
b1 w
b1 {
b1 4"
b1 x
b110000 0"
0"
0:
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
b1 +"
b110000 6
b110000 U
b110000 o
b110000 f
b1010101 H
b1010101 P
b1010101 ^
b1 3"
1&
#470000
b101 -"
b1000000 9"
0(
0&
#475000
b110 -"
b101 +"
b101 3"
1&
#480000
0&
#485000
b0 -"
1#
1<
b110 +"
b110 3"
1&
#490000
0&
#495000
b0 +"
1"
1:
1!
1>
1J
17
b1 =
b1 Y
b1 ,"
0#
0<
b0 3"
1&
#500000
b1 -"
b0 ?
b0 w
b0 {
b0 4"
x!
0u
b0 x
1(
b1000000 %
b1000000 ,
b1000000 T
b1000000 n
b1000000 y
0&
#505000
b100 -"
1u
b1 ?
b1 w
b1 {
b1 4"
b1 x
b1000000 0"
0"
0:
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
b1 +"
b1000000 6
b1000000 U
b1000000 o
b1000000 f
b1 3"
1&
#510000
b101 -"
b1010000 9"
0(
0&
#515000
b110 -"
b101 +"
b101 3"
1&
#520000
0&
#525000
b0 -"
1#
1<
b110 +"
b110 3"
1&
#530000
0&
#535000
b0 +"
1"
1:
1!
1>
1J
17
b1 =
b1 Y
b1 ,"
0#
0<
b0 3"
1&
#540000
b1 -"
b100 ?
b100 w
b100 {
b100 4"
b10 @
b10 v
b10 z
1!
1u
b100 x
1(
b1010000 %
b1010000 ,
b1010000 T
b1010000 n
b1010000 y
0&
#545000
b100 -"
b101 ?
b101 w
b101 {
b101 4"
b10 @
b10 v
b10 z
1u
b101 x
b1010000 0"
0"
0:
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
b1 +"
b1 9
b1 }
b1 6"
b1 8"
b1010000 6
b1010000 U
b1010000 o
b1010000 f
b1 3"
1&
#550000
b101 -"
0(
0&
#555000
b110 -"
b101 +"
b101 3"
1&
#560000
0&
#565000
b0 -"
b1 2"
1#
1<
b110 +"
b110 3"
1&
#570000
0&
#575000
b0 +"
1"
1:
1!
1>
1J
17
b10 =
b10 Y
b10 ,"
0#
0<
b0 3"
1&
#580000
0&
#585000
b111 ?
b111 w
b111 {
b111 4"
b10 @
b10 v
b10 z
1u
b111 x
x!
0>
07
0J
b0 =
b0 Y
b0 ,"
b10 9
b10 }
b10 6"
b10 8"
b1010000 5
b1010000 V
b1010000 p
b1010000 g
b1010101 G
b1010101 Q
b1010101 _
1&
#590000
0&
#595000
1&
#600000
0&
#605000
1&
#610000
0&
#615000
1&
#620000
0&
#625000
1&
#630000
0&
#635000
1&
#640000
0&
#645000
1&
#650000
0&
